/*
jQuery stepout plugin v1.1
  - carousel with zooming effect

(c) 2011 Matthias Schmidt <http://m-schmidt.eu/>
*/
(function(){var d;d=jQuery;d.fn.stepout=function(e){e=d.extend({auto:!0,pause:3500,bigWidth:500,bigOffset:100},e||{});return this.each(function(){var a,b,l,i,m,c,f,n,j,o,g,r,h,p,s,k,q;b=d(this);b.addClass("jquery-stepout-wrapper");a=b.find("li");l=a.filter(":first");h=l.outerWidth(!0);k=a.length*h;b.css("width",k);a.first().before(a.clone().addClass("clone"));a.last().after(a.clone().addClass("clone"));a=b.find("li");b.scrollLeft(k-h);g=-1;f=c=null;n=function(){var c;c=Math.ceil(b.scrollLeft()/h+
1);return a.filter(":nth("+c+")").find("img")};q=function(){return d(".jquery-stepout-focused").animate({left:"+="+f.left,top:"+="+f.top,width:l.width()},300,function(){d(this).remove();return c=null})};m=function(a){a||(a=n());b.trigger("focus_start",a);c=a.clone();c.css({position:"absolute",left:a.position().left+b.scrollLeft(),top:a.position().top});c.addClass("jquery-stepout-focused");b.append(c);f={left:(e.bigWidth-h)/2,top:e.bigOffset};return c.animate({left:"-="+f.left,top:"-="+f.top,width:e.bigWidth},
300)};n().load(function(){return m(d(this))});j=function(a){var d;b.trigger("move");a==="next"?(d=1,b.trigger("next")):(d=-1,b.trigger("prev"));c&&c.remove();return b.filter(":not(:animated)").animate({scrollLeft:(g+3+d)*h},300,function(){g+=d;if(g===-3||g===3)b.scrollLeft(k),g=0;return m()})};o=function(){c?(q(),setTimeout(function(){return j("next")},300)):j("next")};r=function(){return c?(q(),setTimeout(function(){return j("prev")},300)):j("prev")};b.find("a").click(function(a){a.preventDefault();
return!c?void 0:d(this).offset().left>c.offset().left?o():r()});if(e.auto)return i=null,p=function(){if(!i)return i=setInterval(o,e.pause)},s=function(){clearInterval(i);return i=null},p(),a.mouseenter(function(){return s()}),a.mouseout(function(){return p()})})}}).call(this);
