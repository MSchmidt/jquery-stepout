/*
jQuery stepout plugin v1.0
  - carousel with zooming effect

(c) 2011 Matthias Schmidt <http://m-schmidt.eu/>
*/
(function(){var e;e=jQuery;e.fn.stepout=function(f){f=e.extend({auto:!0,pause:3500,bigWidth:500,bigOffset:100},f||{});return this.each(function(){var b,a,m,j,n,c,h,o,k,p,g,s,i,q,t,l,r;a=e(this);a.addClass("jquery-stepout-wrapper");b=a.find("li");m=b.filter(":first");i=m.outerWidth(!0);l=b.length*i;a.css("width",l);b.first().before(b.clone().addClass("clone"));b.last().after(b.clone().addClass("clone"));b=a.find("li");a.scrollLeft(l-i);g=-1;h=c=null;o=function(){var d;d=Math.ceil(a.scrollLeft()/i+
1);return b.filter(":nth("+d+")").find("img")};r=function(){return e(".jquery-stepout-focused").animate({left:"+="+h.left,top:"+="+h.top,width:m.width()},300,function(){e(this).remove();return c=null})};n=function(d){d||(d=o());a.trigger("focus",d);c=d.clone();c.css({position:"absolute",left:d.position().left+a.scrollLeft(),top:d.position().top});c.addClass("jquery-stepout-focused");a.append(c);h={left:(f.bigWidth-i)/2,top:f.bigOffset};return c.animate({left:"-="+h.left,top:"-="+h.top,width:f.bigWidth},
300)};o().load(function(){return n(e(this))});k=function(d){var b;a.trigger("move");d==="next"?(b="+=",a.trigger("next")):(b="-=",a.trigger("prev"));c&&c.remove();return a.filter(":not(:animated)").animate({scrollLeft:b+i},300,function(){d==="next"?(g++,g===3&&(a.scrollLeft(0),g=-3)):(g--,g===-3&&(a.scrollLeft(2*l),g=3));return n()})};p=function(){return c?(r(),setTimeout(k,300,"next")):k("next")};s=function(){return c?(r(),setTimeout(k,300,"prev")):k("prev")};a.find("a").click(function(a){a.preventDefault();
return!c?void 0:e(this).offset().left>c.offset().left?p():s()});if(f.auto)return j=null,q=function(){if(!j)return j=setInterval(p,f.pause)},t=function(){clearInterval(j);return j=null},q(),b.mouseenter(function(){return t()}),b.mouseout(function(){return q()})})}}).call(this);
